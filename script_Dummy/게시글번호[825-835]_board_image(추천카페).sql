-- 6월 데이터
INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(825, 2, NULL, floor(1 + (rand() * 78)), 2, 1, NULL, NULL, '벨리시모앤틱카페', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '이런 분위기 있는곳 흔하지 않고
앤틱하니 너무 좋습니다!
시간나면 한번 들려보세요!!!
전 너무 좋았어요^^', '대구 수성구 무학로 37');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(826, 2, NULL, floor(1 + (rand() * 78)), 3, 1, NULL, NULL, '그린페이스카페', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '피크닉 감성 느끼고 싶다면 전 여길 추천해드립니다!!!', '대구 달서구 성당로 117-10');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(827, 2, NULL, floor(1 + (rand() * 78)), 4, 6, NULL, NULL, '베리베리', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '혼자 조용히 책읽거나
노트북 들고 과제하기 좋은곳 같아요!', '대구 달서구 달구벌대로309길 8');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(828, 2, NULL, floor(1 + (rand() * 78)),5, 4, NULL, NULL, '슬로우라이프', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '망고빙수라면 바로 슬로우라이프를 가야한다!', '대구 수성구 동대구로77길 33-6');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(829, 2, NULL, floor(1 + (rand() * 78)),  6, 6, NULL, NULL, '프리지아', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '조용하고 작업하기 딱인곳!
지루하게 도서관만 가다가 여기서 공부하니 너무 좋네요!', '대구 서구 서대구로7길 12');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(830, 2, NULL, floor(1 + (rand() * 78)), 7, 1, NULL, NULL, '쎄라비음악다방', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '청라언덕쪽에 있어요!
옛스럽고 복고풍 물씬!', '대구 중구 국채보상로102길 60');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(831, 2, NULL, floor(1 + (rand() * 78)), 8, 4, NULL, NULL, '라이브와이어커피하우스', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '톰과제리 치즈케익 먹고왔습니다!', '대구 동구 동촌로46길 12');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(832, 2, NULL, floor(1 + (rand() * 78)), 11, 4, NULL, NULL, '프라그란자', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '너무 맛있어요!
당충전 제대로!!', '대구 동구 파계로 622');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(833, 2, NULL, floor(1 + (rand() * 78)), 9, 2, NULL, NULL, '넘버더스타즈', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '동네감성 뷰 맛집!', '대구 남구 현충로 54');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(834, 2, NULL, floor(1 + (rand() * 78)), 1, 1, NULL, NULL, '마주봄', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '간만에 남자친구와 힐링 제대로 하고왔어요!
시간나시면 한번 가보세요!!!
초록초록하니 지금가기 딱입니다!', '대구 중구 중앙대로 434-8');

INSERT INTO coffeemukka.board
(board_no, board_no2, key_sort_no, user_no, zone_no, theme_no, cafe_no, writing_lock_condition, writing_title, registration_date, update_date, view_number,board_del_cdt, writing_content, address)
VALUES(835, 2, NULL, floor(1 + (rand() * 78)), 2, 3, NULL, NULL, '커피아름', '2020-06-11 10:45:10.0', '2020-06-27 10:45:10.0', floor(1 + (rand() * 99)), 1, '은은하고 좋아요!!! 강추!!!', '대구 수성구 무학로21안길 96');


-- 이미지
INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1067, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_825.JPG', NULL, 825);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1068, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_826.JPG', NULL, 826);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1069, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_827.JPG', NULL, 827);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1070, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_828.JPG', NULL, 828);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1071, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_829.JPG', NULL, 829);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1072, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_830.JPG', NULL, 830);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1073, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_831.JPG', NULL, 831);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1074, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_832.JPG', NULL, 832);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1075, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_833.JPG', NULL, 833);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1076, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_834.JPG', NULL, 834);

INSERT INTO coffeemukka.image
(image_no, image_name, cafe_no, board_no)
VALUES(1077, '/2020/06/11/s_5f5465c1-09d0-4db1-920d-5dd7a10694d5_835.JPG', NULL, 835);


-- 추천 추가(당월)
drop procedure if exists loopVoteInsert4;
delimiter $$
$$
create procedure loopVoteInsert4()
begin
DECLARE i INT DEFAULT 1;
WHILE i <= 1000 DO /*추천 총 갯수*/
	Insert into vote(board_no, user_no, vote_date) 
	VALUES(floor(825 + (rand() * 11)), floor(1 + (rand() * 78)), '2020-06-30 10:45:10.0');
		/* 시작 boardNo , (마지막boardNo-시작boardNo)+1 */
	
	SET i = i + 1;
END WHILE;
end
delimiter ;

CALL loopVoteInsert4();

-- 댓글 추가
drop procedure if exists loopReplyInsert3;
delimiter $$
$$
create procedure loopReplyInsert3()
begin
DECLARE i INT DEFAULT 1;
WHILE i <= 200 DO

	insert into reply(board_no, user_no, comment_content) values(floor(825 + (rand() * 11)), floor(1 + (rand() * 78)), concat('댓글 테스트 ', i));
	
	SET i = i + 1;
END WHILE;
end
delimiter ;

CALL loopReplyInsert3();

-- 생성된 댓글 갯수 게시글 댓글갯수컬럼에 넣기 / 추천 수 board 컬럼에 넣기
drop procedure if exists loopCnt3;
delimiter $$
$$
create procedure loopCnt3()
begin
DECLARE i INT DEFAULT 1;
WHILE i <= 11 DO

	update board
		set vote_number = (select count(*) from vote where board_no = i+825)
		where board_no = i+825;
	
	update board 
		set reply_cnt = (select count(*) from reply where board_no = i+825) 
		where board_no = i+825;
	
	SET i = i + 1;
END WHILE;
end
delimiter ;

CALL loopCnt3();
